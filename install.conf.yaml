- shell:
  - description: Validating sudo credentials
    command: "sudo --validate"
- clean: ['~']

- link:
    ~/.bashrc: bashrc
    ~/.gitconfig: gitconfig
    ~/.vimrc: vim/vimrc
    ~/.vim/autoload/plug.vim: vim/vim-plug/plug.vim
    ~/.config/nvim:
      path: nvim
      force: true

    ~/.zshrc:
      path: zsh/zshrc
      force: true

    ~/.bashrc:
      path: bash/bashrc
      force: true

    ~/.tmux.conf: tmux/tmux.conf
    ~/bin:
        path: bin/
        create: true
- create:
  - ~/Code
    ~/.config/nvim/undo
- shell:
  - description: Installing brew
    command: "[ -x \"$(which brew)\" ] || arch -x86_64 /usr/bin/ruby -e \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)\""
  - description: Updating brew
    command: "arch -x86_64 brew update"
  - description: Installing brew bundler
    command: "arch -x86_64 brew tap homebrew/bundle"
  - description: Installing brewfile bundle
    command: "arch -x86_64 brew bundle"
    stdout: true
    stderr: true
  - description: Adding zsh to list of acceptable shells
    command: "[[ \"$(ag $(which zsh) /etc/shells)\" ]] || sudo sh -c \"echo $(which zsh) >> /etc/shells\""
  - description: Making zsh the default shell
    command: "sudo chsh -s $(which zsh)"
  - description: Compiling antibody bundles
    command: "sh zsh/bundles_compile"
  - description: Installing tmux plugin manager
    command: "git clone https://github.com/tmux-plugins/tpm ~/.tmux/plugins/tpm"
